!function(t){"use strict";var a,e=t.Uint8Array,i=t.HTMLCanvasElement,n=i&&i.prototype,r=/\s*;\s*base64\s*(?:;|$)/i,o="toDataURL",s=function(t){for(var u,f,d,i=t.length,n=new e(i/4*3|0),r=0,o=0,s=[0,0],l=0,c=0;i--;)f=t.charCodeAt(r++),u=a[f-43],255!==u&&u!==d&&(s[1]=s[0],s[0]=f,c=c<<6|u,l++,4===l&&(n[o++]=c>>>16,61!==s[1]&&(n[o++]=c>>>8),61!==s[0]&&(n[o++]=c),l=0));return n};e&&(a=new e([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),i&&!n.toBlob&&(n.toBlob=function(t,i){if(i||(i="image/png"),this.mozGetAsFile)return void t(this.mozGetAsFile("canvas",i));if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(i))return void t(this.msToBlob());var f,n=Array.prototype.slice.call(arguments,1),a=this[o].apply(this,n),l=a.indexOf(","),c=a.substring(l+1),u=r.test(a.substring(0,l));Blob.fake?(f=new Blob,u?f.encoding="base64":f.encoding="URI",f.data=c,f.size=c.length):e&&(f=u?new Blob([s(c)],{type:i}):new Blob([decodeURIComponent(c)],{type:i})),t(f)},n.toDataURLHD?n.toBlobHD=function(){o="toDataURLHD";var t=this.toBlob();return o="toDataURL",t}:n.toBlobHD=n.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,i=function(){return t.URL||t.webkitURL||t},n=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,o=function(i){var n=e.createEvent("MouseEvents");n.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(n)},a=t.webkitRequestFileSystem,s=t.requestFileSystem||a||t.mozRequestFileSystem,l=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},c="application/octet-stream",u=0,f=500,d=function(e){var n=function(){"string"==typeof e?i().revokeObjectURL(e):e.remove()};t.chrome?n():setTimeout(n,f)},h=function(t,e,i){e=[].concat(e);for(var n=e.length;n--;){var r=t["on"+e[n]];if("function"==typeof r)try{r.call(t,i||t)}catch(o){l(o)}}},p=function(e,l){var g,v,C,f=this,p=e.type,m=!1,b=function(){h(f,"writestart progress write writeend".split(" "))},y=function(){if((m||!g)&&(g=i().createObjectURL(e)),v)v.location.href=g;else{var n=t.open(g,"_blank");void 0==n&&"undefined"!=typeof safari&&(t.location.href=g)}f.readyState=f.DONE,b(),d(g)},x=function(t){return function(){return f.readyState!==f.DONE?t.apply(this,arguments):void 0}},w={create:!0,exclusive:!1};return f.readyState=f.INIT,l||(l="download"),r?(g=i().createObjectURL(e),n.href=g,n.download=l,o(n),f.readyState=f.DONE,b(),void d(g)):(/^\s*(?:text\/(?:plain|xml)|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)&&(e=new Blob(["\ufeff",e],{type:e.type})),t.chrome&&p&&p!==c&&(C=e.slice||e.webkitSlice,e=C.call(e,0,e.size,c),m=!0),a&&"download"!==l&&(l+=".download"),(p===c||a)&&(v=t),s?(u+=e.size,void s(t.TEMPORARY,u,x(function(t){t.root.getDirectory("saved",w,x(function(t){var i=function(){t.getFile(l,w,x(function(t){t.createWriter(x(function(i){i.onwriteend=function(e){v.location.href=t.toURL(),f.readyState=f.DONE,h(f,"writeend",e),d(t)},i.onerror=function(){var t=i.error;t.code!==t.ABORT_ERR&&y()},"writestart progress write abort".split(" ").forEach(function(t){i["on"+t]=f["on"+t]}),i.write(e),f.abort=function(){i.abort(),f.readyState=f.DONE},f.readyState=f.WRITING}),y)}),y)};t.getFile(l,{create:!1},x(function(t){t.remove(),i()}),x(function(t){t.code===t.NOT_FOUND_ERR?i():y()}))}),y)}),y)):void y())},m=p.prototype,g=function(t,e){return new p(t,e)};return m.abort=function(){var t=this;t.readyState=t.DONE,h(t,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs});