angular.module("image.directives").directive("edFileUploader",["$parse","$mdDialog","$mdBottomSheet",function(t,e,i){var n=["png","jpg","jpeg","gif"];return{restrict:"A",link:function(r,o,s){var a=t(s.edFileUploader)(r);$(o[0]).on("change",function(t){var r=new FileReader;r.onload=function(t){var r=t.target.result.split(",")[0].split(":")[1].split(";")[0].split("/")[1];n.indexOf(r)<0,a&&(a(t.target.result),"undefined"!=typeof s.edCloseAfter&&(e.hide(),i.hide()))},t.target.files[0].name.match(".json")?r.readAsText(t.target.files[0]):r.readAsDataURL(t.target.files[0])})}}}]);